(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{177:function(e,t,a){},178:function(e,t,a){},180:function(e,t,a){},181:function(e,t,a){},182:function(e,t,a){e.exports=a.p+"static/media/frameBlack1.acc98809.png"},183:function(e,t,a){e.exports=a.p+"static/media/frameBlackLong.1f5d2f8f.png"},184:function(e,t,a){e.exports=a.p+"static/media/frameYellow.15586deb.png"},185:function(e,t,a){e.exports=a.p+"static/media/frameYellowLong.558b1461.png"},186:function(e,t,a){},187:function(e,t,a){},189:function(e,t,a){},190:function(e,t,a){},191:function(e,t,a){},192:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAUsSURBVHgB7VpNSBRRHH9TURRtKwVBZBpFEZoFnfry2gfUTSlwT0V0sEMRFHgRgwQjqUNGHurkHiRvCpJHNewUpOmhLq4JQmXsmhSGYu/3Zv7rm9n3Zt6Ma47SD5ad2X0z7//9NWMtLLJFtg6wga0TaBmpOHOUDbzbzuKC7r4SQZMOSkZ63pSwicnN7Obd/SwuuN9UKmjSCVfJCC3GhR2vd7HVRkfXLkELMDy6TblGycjw2Nb8cbprJ1ttND/Zkz8OpZHhsW3ShYlV9RXsTdoAZNpkFDCSm9koPjLgM6sFr2nLTMmwvHkEErh45bBrUXLHAht7+1F8myDDNyOBYGNcR9eWlf5h5fxjAlyrilSjnBbvPTZ5F+VyBT8JgiCZ+utflf/Bp7q51ga5EDKTWwo0qkL1yZ+squI3u3w+y49nlWv6uVmrMML3C2Qko1FdT1/SxQiIbXu5m7W92m1EuBe27yXYc349tJSqmWap2mlxTJCdXEZWIewCH9HZoOz0YAAqb366JxITqj1xrwvcpHFvQA65qvVeGGsEQFKCrQ9oVL5cgMD7D0qF9mGiOmRMGPGTsC70FRtBglLRqDAtvSTiApVACxjxM624QKWRTUELdEjumGfHePiUASF4NYowK/93rOKXNh+Z+l4gIxMhtAEmejs/F/yO6ENhs4oTTWsQjeDILY2TyryhS346QDByLnGZVjZCKEX5Unmmkp2+eESc119byjW3nGMkTOQIaOJe0z5eORxiDx1mkWhxfvXGARYGXq24GFFl9UBYiyKJnXWkLBeY1admRRZOc2LBBMwK5zAh0r7dYyRCR0Sv9bgYieLol87lhPk84iYDKXU7BSZ8Awz2DyVEdwekan+wYsGb3d0aiWBaaZ6Bt5efyJsWGIL0UXIAMKnezk/i+NK5rHHhGQQvrZGjFqGsdI7VOUQDRCjMCuonX4CDgykwA+aXC19Gojg7CKQohJujjCGzQr1ERIMpMIJPMRjxuoGrH0H0WKk6qtiAFbS3ZvLna3au5Ru11kKdRcj65ZG1hNyMO/y6znR5pL11PH+MvCA7K5Kc3Dkic8PpG+5M8RJibmnj3EY2zjWOXkPWPAIDAoCLSM1aP7icHflAhdnM+6VNOJF7q47nz9sfj7M6KdFV8noJAkHu0PXicj3mdVovULr09JUE0hXKtMAE8gRVtADyhR9QZ928Wy4+kDDQcHvKlXsIWIPIiW/KE6kas2ogFCM0gURZAlC+8Jt7gaC0k0+u3ji4RGBtISODzkACa2mvZHKeFZ2RgSE7x2CEAxBD3Y6kTUC1mLeXAVoavwh/JLME0/A5E4QqdwfE3MruA0BI9SnbxKL08qqaiwQDgAnsl5sxk3Xo8Jt2Rpipmu+CGXsz89KmfJ8dyUakQTkB/kG9DQQGxvwCgYzQDQj1GxSpwjx2gF9QJPug0CJCLaWAkdGtttZPzhrdOwIjiXz0onM/gBDMakuk+a8YyCmmiC+cfGU3YbYPqTSnQoSWkOXnwDTyLwsYSlNvDWkjwmHMqpoPyNKnmbLpUzOjhBhXRE6IcYaLEcRwdHBxBuZpSMTUPhMs1QsD9PQUvhCXRgvEX+ZCRrRU5SAr6M2HCeGgSfZMOOi/7VdAPGo5zMqChhZWmFc4EEUwMbSj1cowBdOpv/7NZsIwhwBW1HdRyPRQ0XqbnLAA8XW8yvV7DBcEqxgv1eBZPIpBXd+gAg3B0YDhe7nzLquYbweZBIkgp40Ka6VecyKm4FOiGTN02qiw/r+vFTP8BRxuuh5Ab3JlAAAAAElFTkSuQmCC"},193:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMuSURBVHgB7ZpPSBRRHMd/o9mmpLu4ICxsu3XpoLRBJ4W2Y3bQm9HBPUQdkiSojA7rpS57kyISCqmTgZI3ha2uEtvZYguiaFWQNgxXRdko7H2HnWXbnTfz5o/MS+YDw+682Zmd77z3+/N+b5TW2Jk9OgA00QHBFyIbvhDZ8FzI6JUiDQ+tk1M8FzL5vItSF9cp//aDI0HNLcHIPfKY9/lWun39Ow32lyh+rExLbL+0ecjSNaSwkaV8G02/DKvfh4d+0qvZzxSLlq1cQh5jfzHXWf0ei/6iXPYTJbp3hM+XRsjiu3a2Ha3uBzv+UJb1jKgYqdzvwuvQP/sQMzP1Vf00QyohMPJ6MMxmpr6YniuZkDbd9mTvtqlrlkpIabNZ3fQYv7VmOMSkS1E2OEIwxFIGvfJf5VoD/RvcY9IJibMnzwO2wjsulRARNztwXr9XpBIiEvwSPbu67VIJSQlkv8neLd12qYQk+7ZNf8MbftIIwdiPGRi6hvRCRq8WyQlSCEH6AdcqAi/yey4EEyikH6Isrx7WbfdcyCxL00VsQ6OwEtBtbxBidYrphCcTBTrVvWvpnNrJVy0NQsZvru27mGDHb1VEykbVZP5NSLe9QQjmBJj881IBp+Ah4fp2RKDaImwj03Ph6hTz6cQ313oHvZBmRo2igtXhpPH4WRf3WENdq1xuoiOBPTXKJtgfotaU6NmxVWsCEDDGalaPMiusl0vqte2Anhi5c5x7XNFb6EGP5LIfG7wJDG2eFQjQxah68IizXjzL4sK5vi315kWyWjOujcVZySjMPa7wVqyQnKEcY0SBPSVtzOJmsYUqn26C4T7ChBihGC29pZkHS1sIVvsBHtSFSye5Rq5hGBAzDyOslNlJXiEqAphGdhiYF2KsiABC1fiFShASmS+4gVURQHhZAV4Kxn2aTTXdNuZaJlmsuHzjBBV/tFg6T7G6zg6XDCeAxRk3gUu/ez9q6NaNUOy+MKAJGmS1Jic9hNiUeRCxLUBDcfrmA0QgL0tWAqBZSo6JEbKExVy7uiZSWA2QGyhuv8IBYSjrBOsC43IleLp14/Uo/rsokuELkQ1fiGz8BfjpMRnc+PrxAAAAAElFTkSuQmCC"},196:function(e,t,a){},197:function(e,t,a){},198:function(e,t,a){},199:function(e,t,a){},200:function(e,t,a){},201:function(e,t,a){},202:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(36),o=a.n(i),s=(a(65),a(3)),l=a(4),c=a(6),u=a(5),m=a(7),d=a(20),p=a(10),h=a(8),v=a(37),g=a.n(v),f=a(9),b=a.n(f),E=a(29),y=a(12),k=a(24),O=a(13);k.b.add(O.c,O.b,O.d,O.g,O.f),k.b.add(O.h,O.a,O.e,O.i);var S=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e={rating:{marginTop:"3px",color:this.props.theme.fontColor.primary,textAlign:"center"},star:{color:this.props.theme.fontColor.secondary}};return r.a.createElement("span",{"data-title":this.props.mImdbID},r.a.createElement("img",{src:"https://ia.media-imdb.com/images/G/01/imdb/plugins/rating/images/imdb_37x18.png"}),"\xa0\xa0",r.a.createElement("span",{style:e.rating},this.props.Rating,"\xa0/\xa010 \xa0",r.a.createElement(y.a,{icon:"star",style:e.star})))}}]),t}(n.Component),A=Object(h.d)(S),C=(a(88),function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"DinamicSingleMovie"},r.a.createElement("a",{onClick:function(){return e.props.functionModal(e.props.imdbID)}},r.a.createElement("img",{className:"DinamicSingleMovieImg",src:this.props.poster})),r.a.createElement("div",{className:"DinamicInfo"},r.a.createElement("p",{style:{color:this.props.theme.fontColor.primary}},this.props.runtime),r.a.createElement("p",{style:{color:this.props.theme.fontColor.secondary}},this.props.title),r.a.createElement("p",{style:{color:this.props.theme.fontColor.primary}},this.props.year),r.a.createElement(A,{mImdbID:this.props.imdbID,Rating:this.props.imdbRating})))}}]),t}(n.Component)),N=Object(h.d)(C),w=(a(89),a(90),function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.picsAndIdsArray.map(function(t,a){return r.a.createElement("a",{onClick:function(){return e.props.functionModal(t.id)},key:a},r.a.createElement("img",{src:t.pic}))});return r.a.createElement("div",{className:"Picture"},r.a.createElement(E.a,{height:600,duration:900,delay:5e3},t))}}]),t}(n.Component)),j=a(38),I=a.n(j),M=a(58),D="https://imdb-internet-movie-database-unofficial.p.rapidapi.com/film/",R=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).CancelToken=b.a.CancelToken,a.source=a.CancelToken.source(),a.getTrailers=function(){b.a.get("".concat(D).concat(a.props.id),{cancelToken:a.source.token,headers:{"Access-Control-Allow-Origin":"*","x-rapidapi-host":"imdb-internet-movie-database-unofficial.p.rapidapi.com","x-rapidapi-key":"68a0c4661emshb450c98bdee828dp1353d5jsn4270ee570a4b"}}).then(function(e){a.setState({movieLink:e.data.trailer.id})}).catch(function(e){console.log(e)})},a.state={movieLink:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getTrailers()}},{key:"componentWillUnmount",value:function(){this.source.cancel("Operation canceled by the user.")}},{key:"componentDidUpdate",value:function(e){e.id!==this.props.id&&this.getTrailers()}},{key:"render",value:function(){return r.a.createElement(M.a,{src:"https://www.imdb.com/videoembed/".concat(this.state.movieLink),style:{minWidth:"100%",height:"720px",maxHeight:"100%"},checkOrigin:!1,autoResize:!0,allowFullScreen:!0,webkitallowfullscreen:"true",mozallowfullscreen:"true"})}}]),t}(n.Component);I.a.setAppElement(document.getElementById("root"));var B=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).getMovies=function(){b.a.get("https://movies-app-siit.herokuapp.com/movies?Type=movie&take=100").then(function(e){a.sortArray(e.data.results)}).catch(function(e){console.log(e)})},a.showPoster=function(){var e=[];if(a.state.movies.map(function(t,a){e.push({pic:t.Poster,id:t.imdbID})}),e.length)return r.a.createElement(w,{picsAndIdsArray:e,key:a.state.movies._id,functionModal:function(e){return a.handleOpenModal(e)}})},a.sortArray=function(e){var t=e.sort(function(e,t){return Number(t.imdbVotes)-Number(e.imdbVotes)});a.setState({movies:t.slice(0,10)})},a.handleOpenModal=function(e){a.setState({showModal:!0,id:e})},a.handleCloseModal=function(){a.setState({showModal:!1})},a.state={movies:[],showModal:!1,id:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getMovies()}},{key:"render",value:function(){var e=this,t=this.state.movies.map(function(t,a){return r.a.createElement(N,{title:t.Title,key:t._id,year:t.Year,poster:t.Poster,runtime:t.Runtime,index:a,imdbID:t.imdbID,functionModal:function(t){return e.handleOpenModal(t)},imdbRating:t.imdbRating})});return r.a.createElement(n.Fragment,null,r.a.createElement(I.a,{isOpen:this.state.showModal,contentLabel:"onRequestClose Example",onRequestClose:function(){return e.handleCloseModal()},className:"Modal",overlayClassName:"Overlay"},r.a.createElement("a",{style:{cursor:"pointer",position:"relative",zIndex:"1",color:"white",fontWeight:"bolder",left:"25px",top:"35px"},onClick:this.handleCloseModal},"close"),r.a.createElement(R,{id:this.state.id})),r.a.createElement("div",{className:"DinamicCompMovies",style:{backgroundColor:this.props.theme.colorBackground.primary}},r.a.createElement("div",{className:"DinamicCompMoviesList"},r.a.createElement(E.a,{height:700,autoplay:!0,duration:900,delay:5e3},t)),r.a.createElement("div",{className:"DinamicCompMoviesPicture"},this.showPoster())))}}]),t}(n.Component),T=Object(h.d)(B),x=a(25),F=a(30);function L(){var e=Object(x.a)(["",""]);return L=function(){return e},e}function P(){var e=Object(x.a)(["animation: 1.8s "," infinite"]);return P=function(){return e},e}var Q=h.b.div(P(),Object(h.c)(L(),F.flash)),Y=(a(177),a(59)),G=(a(178),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleHover=function(){a.setState({hover:!0})},a.handleMouseLeave=function(){a.setState({hover:!1})},a.editMovie=function(){a.props.history.push({pathname:"/editPage/".concat(a.props.id)})},a.movieDetails=function(){a.props.history.push({pathname:"/movieDetails/".concat(a.props.id),state:{id:a.props.id,imdbID:a.props.imdbID}})},a.state={hover:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.poster,a=e.title,n=e.imdbRating;return r.a.createElement("div",{className:"movieCard"},r.a.createElement("div",{style:{backgroundImage:"url("+t+")"},className:"cardImg"}),r.a.createElement("p",{className:"cardTitle"},a),r.a.createElement("div",{className:"ratingsWrapper"},r.a.createElement(y.a,{icon:O.i,className:"star"}),r.a.createElement("span",{className:"cardRating"}," ",n)),!this.state.hover&&!this.props.auth&&r.a.createElement("div",{className:"closedCardInvite",onMouseEnter:this.handleHover}),this.state.hover&&!this.props.auth&&r.a.createElement("div",{className:"openCardInvite",onMouseLeave:this.handleMouseLeave},r.a.createElement("p",{className:"inCardInvite"},"login / register to edit")),this.props.auth&&r.a.createElement("button",{className:"editBtn",onClick:this.editMovie},"EDIT"),r.a.createElement("button",{className:"movieDetailsButn",onClick:this.movieDetails},"VIEW "))}}]),t}(r.a.Component)),J=Object(h.d)(Object(p.g)(G)),U=(a(180),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).getMoviesList=function(){b.a.get("https://movies-app-siit.herokuapp.com/movies?Type=".concat(a.props.type,"&take=100")).then(function(e){var t=a.addImage(e);a.setState({moviesList:t})})},a.state={moviesList:[]},a.breakPoints=[{width:1,itemsToShow:1,itemsToScroll:1},{width:460,itemsToShow:2,itemsToScroll:1},{width:708,itemsToShow:3,itemsToScroll:1},{width:908,itemsToShow:4,itemsToScroll:1}],a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getMoviesList()}},{key:"addImage",value:function(e){return e.data.results.map(function(e){return"N/A"===e.Poster&&(e.Poster="https://static.posters.cz/image/750/postere/justice-league-batman-solo-i50997.jpg"),e})}},{key:"render",value:function(){var e=this.props,t=e.auth,a=e.token,n=this.state.moviesList.map(function(e){return r.a.createElement(J,{key:e._id,id:e._id,poster:e.Poster,title:e.Title,imdbRating:e.imdbRating,imdbID:e.imdbID,auth:t,token:a,type:e.Type})});return r.a.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%"}},r.a.createElement(Y.a,{breakPoints:this.breakPoints,itemsToShow:5,itemsToScroll:1,initialFirstItem:4,renderPagination:function(){return r.a.createElement(r.a.Fragment,null," ")}},n))}}]),t}(n.Component)),V=(a(181),function(e){function t(e){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,e))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.auth,a=e.token;return r.a.createElement("div",{style:{width:"98%"}},r.a.createElement("h1",{style:{color:this.props.theme.fontColor.secondary}},"MOVIES"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(U,{type:"movie",auth:t,token:a})),r.a.createElement("h1",{style:{color:this.props.theme.fontColor.secondary}},"SERIES"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(U,{type:"series",auth:t,token:a})),r.a.createElement("h1",{style:{color:this.props.theme.fontColor.secondary}},"GAMES"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(U,{type:"game",auth:t,token:a})))}}]),t}(r.a.Component)),W=Object(h.d)(V),X=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.auth,t=this.props.token,a=r.a.createElement(n.Fragment,null,r.a.createElement(g.a,{maxDeviceWidth:1960,minDeviceWidth:961},r.a.createElement("img",{className:"frame",src:this.props.theme.frameShort})),r.a.createElement(g.a,{maxDeviceWidth:960},r.a.createElement("img",{className:"frame",src:this.props.theme.frameLong})));return r.a.createElement("div",{className:"Hompage",style:{backgroundColor:this.props.theme.colorBackground.primary}},r.a.createElement(Q,{className:"flash"},r.a.createElement("h1",{style:{color:this.props.theme.fontColor.secondary,marginTop:"25px"}},"10 most voted Batman movies")),r.a.createElement("div",{className:"dinamicComp",style:{width:"100%",display:"flex",justifyContent:"space-around",marginTop:"15px",marginBottom:"15px"}},a,r.a.createElement(T,null),a),r.a.createElement(W,{auth:e,token:t}),r.a.createElement("br",null))}}]),t}(n.Component),H=Object(h.d)(Object(p.g)(X)),Z={colorBackground:{primary:"white",nav:"rgb(40,46,60)"},fontColor:{primary:"black",secondary:"black"},shadows:{boxShadow1:"0px 5px 15px 8px rgba(40,46,60,0.63)"},backgroundMenu:{backgroundColor:"#282e3c"},frameShort:a(182),frameLong:a(183),type:"light"},q={colorBackground:{primary:"#282e3c",nav:"rgb(9,30,50)"},fontColor:{primary:"white",secondary:"yellow"},shadows:{boxShadow1:"0px 5px 15px 8px rgba(255,255,255,1)"},backgroundMenu:{backgroundColor:"#282e3c"},frameShort:a(184),frameLong:a(185),type:"dark"},z=(a(54),a(31)),K=a(32),_=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={value:a.props.min},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"showValue",value:function(e){console.log(this.props.filterClass,e.target.value),localStorage.setItem("".concat(this.props.filterClass),"".concat(e.target.value)),this.setState({value:e.target.value})}},{key:"rangeChange",value:function(e){var t=this;this.setState({value:e.target.value},function(){t.props.addValueToJson(t.state.value)})}},{key:"plusClick",value:function(){var e=this;"imdb"===this.props.filter&&this.setState(function(t){if(e.state.value<=10)return{value:(Math.round(10*parseFloat(t.value))+1)/10}},function(){e.props.addValueToJson(e.state.value)})}},{key:"minusClick",value:function(){var e=this;"imdb"===this.props.filter&&this.setState(function(t){if(e.state.value>=1)return{value:(Math.round(10*parseFloat(t.value))-1)/10}},function(){e.props.addValueToJson(e.state.value)})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"range-container"},r.a.createElement("p",{className:"range-value"},this.state.value,"RottenTomatoes"===this.props.filter?"%":null),r.a.createElement("div",{className:"icon-range-container"},"Ratings"===this.props.filterClass?r.a.createElement(y.a,{icon:"minus",onClick:function(){e.minusClick()}}):null,r.a.createElement("input",{id:this.props.filter,type:"range",min:this.props.min,max:this.props.max,className:"slider",step:this.props.step,value:Math.round(10*parseFloat(this.state.value))/10,onChange:function(t){return e.rangeChange(t)}}),"Ratings"===this.props.filterClass?r.a.createElement(y.a,{icon:"plus",onClick:function(){e.plusClick()}}):null))}}]),t}(r.a.Component);function $(e){var t=e.filterClass,a=e.filterClassOn,n=e.name,i=e.filterOn,o=e.filterNumber;return r.a.createElement("div",{onClick:"Year"===t||"Ratings"===t?null:e.filterMovies,id:"filter-".concat(n)},r.a.createElement("span",{id:"filter-".concat(n,i&&a?"-text-hightlight":"-text"),onClick:function(){return e.toggleFilter(o)}},n),"Year"===t||"Ratings"===t?r.a.createElement(y.a,{icon:i&&a?"angle-down":"angle-right",onClick:function(){return e.toggleFilter(o)}}):null,i&&"Year"===t||i&&"Ratings"===t?r.a.createElement(_,{min:"Year"===t?e.minFilterYear:e.minFilterRating,max:"Year"===t?e.maxFilterYear:e.maxFilterRating,filterClass:t,filter:n,addValueToJson:function(t){e.addValueToJson(t)},step:e.step,value:e.value}):null)}var ee=a(28),te=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={dropdowns:ee},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillUnmount",value:function(){this.setState(ee.map(function(e){if(e.dropdownOn)return e.dropdownOn=!1}))}},{key:"wrapDropdown",value:function(e,t,a,n,i){var o=r.a.createElement("div",{id:"".concat(t,a?"-filters-display":"-filters-hide"),key:i},e);return o=this.wrapDdAndArr(o,n,i)}},{key:"wrapDdAndArr",value:function(e,t,a){return r.a.createElement("div",{className:"dropdown-menu-container",key:a},t,e)}},{key:"getDropdownArrow",value:function(e,t,a){var n=this;return r.a.createElement("div",{className:"dropdown-menu"},r.a.createElement("p",{className:t?"filterClass-highlight":"filterClass"},e),r.a.createElement(y.a,{icon:t?"angle-down":"angle-right",onClick:function(){n.toggleDropdown(a)}}))}},{key:"toggleDropdown",value:function(e){var t=this;this.setState(Object(K.a)(ee).map(function(t,a){return a===e&&(t.dropdownOn=!t.dropdownOn),t}),function(){var a=Object(K.a)(t.state.dropdowns);a[e].dropdownOn||(a[e].filters.forEach(function(e){e.filterOn=!1}),console.log(a[e].dropdownName),t.updateActiveQuery(a[e].dropdownName)),t.setState({dropdowns:a},function(){t.checkActiveFilters()})})}},{key:"updateActiveQuery",value:function(e){if(sessionStorage.getItem("activeQuery")){var t=JSON.parse(sessionStorage.getItem("activeQuery"));t.hasOwnProperty("imdbRating")?delete t.imdbRating:delete t[e],sessionStorage.setItem("activeQuery",JSON.stringify(t))}}},{key:"toggleFilter",value:function(e,t){var a=this,n=Object(K.a)(this.state.dropdowns);n.forEach(function(n,r){r===e&&n.filters.forEach(function(e,r){r===t?(e.filterOn=!e.filterOn,e.filterOn||a.updateActiveQuery(n.dropdownName)):r!==t&&e.filterOn&&(e.filterOn=!e.filterOn)})}),this.setState([n],function(){a.checkActiveFilters()})}},{key:"addValueToJson",value:function(e,t,a){var n=this,r=Object(z.a)({},this.state.dropdowns[t].filters[a]);r.value=e,this.setState(ee.map(function(e,n){return n===t&&(e.filters[a]=r),e}),function(){n.checkActiveFilters()})}},{key:"checkActiveFilters",value:function(){var e={};this.state.dropdowns.forEach(function(t){var a=t.dropdownName,n=t.dropdownOn,r=t.filters,i="Year"===a||"Ratings"===a;n&&r.forEach(function(t){var n=t.filterName,r=t.filterOn,o=t.value;r&&(i?o&&(e["Ratings"===a?"imdbRating":a]=o):e[a]=n)})}),this.stringifyQuery(e)}},{key:"stringifyQuery",value:function(e){if(sessionStorage.getItem("titleQuery")){console.log(sessionStorage.getItem("titleQuery"));var t=sessionStorage.getItem("titleQuery");e.Title=t}var a="";Object.keys(e).forEach(function(t){a+="".concat(t,"=").concat(e[t],"&"),console.log(e[t])}),this.sendQuery(a.slice(0,-1),e)}},{key:"sendQuery",value:function(e,t){""!==e||sessionStorage.getItem("titleQuery")?(sessionStorage.setItem("activeQuery",JSON.stringify(t)),this.props.filterMovies(e),this.setCookie(e)):this.props.getDefaultMovies(!0)}},{key:"setCookie",value:function(e){document.cookie="lastSearch=".concat(e,";")}},{key:"getDropdowns",value:function(){var e=this,t=[];return this.state.dropdowns.forEach(function(a,n){var i=a.dropdownOn,o=a.dropdownName,s=a.filters,l=e.getDropdownArrow(o,i,n),c=s.map(function(t,a){var s=t.filterName,l=t.filterOn,c=t.minYear,u=t.maxYear,m=t.minRating,d=t.maxRating,p=t.step;return r.a.createElement($,{key:a,filterClass:o,filterClassOn:i,name:s,filterOn:l,filterNumber:a,toggleFilter:function(t){return e.toggleFilter(n,t)},addValueToJson:function(t){e.addValueToJson(t,n,a)},filterMovies:function(){e.checkActiveFilters()},minFilterYear:c,maxFilterYear:u,minFilterRating:m,maxFilterRating:d,step:p})}),u=e.wrapDropdown(c,o,i,l,n);t.push(u)}),t}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.getDropdowns())}}]),t}(r.a.Component),ae=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={menuOn:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.state.menuOn;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"dropdown-menus-container",style:this.props.theme.backgroundMenu},r.a.createElement(te,{filterMovies:function(t){return e.props.filterMovies(t)},getDefaultMovies:function(t){return e.props.getDefaultMovies(t)}})),r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"bars-container"},r.a.createElement(y.a,{icon:"bars",onClick:function(){e.setState({menuOn:!t})}})),r.a.createElement("div",{className:"small-dropdown-menus-container",style:{display:t?"flex":"none"}},r.a.createElement(te,{filterMovies:function(t){return e.props.filterMovies(t)},getDefaultMovies:function(t){return e.props.getDefaultMovies(t)}}))))}}]),t}(r.a.Component),ne=Object(h.d)(ae),re=(a(186),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={moviesList:[],moviesFound:!0,noMoreMovies:!1,moviesAreFiltered:!1,moviesNumber:15},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getDefaultMovies(),sessionStorage.removeItem("activeQuery"),sessionStorage.removeItem("queryString")}},{key:"componentWillUnmount",value:function(){sessionStorage.removeItem("activeQuery")}},{key:"componentDidUpdate",value:function(){if(this.props.emptySearch&&!sessionStorage.getItem("activeQuery"))this.getDefaultMovies();else if(this.props.emptySearch&&sessionStorage.getItem("activeQuery")){var e=JSON.parse(sessionStorage.getItem("activeQuery"));this.filterMovies(this.processActiveQueryObj(!1,e))}}},{key:"getDefaultMovies",value:function(e){var t=this;e&&this.setState({moviesFound:!0}),b.a.get("https://ancient-caverns-16784.herokuapp.com/movies?take=".concat(this.state.moviesNumber)).then(function(e){var a=t.addImage(e);t.setState({moviesList:a}),t.setState({moviesAreFiltered:!1})})}},{key:"addImage",value:function(e){return e.data.results.map(function(e){return"N/A"===e.Poster&&(e.Poster="https://static.posters.cz/image/750/postere/justice-league-batman-solo-i50997.jpg"),e})}},{key:"filterMovies",value:function(e){var t=this;console.log(e),sessionStorage.setItem("queryString",e),b.a.get("https://ancient-caverns-16784.herokuapp.com/movies?".concat(e)).then(function(e){var a=t.addImage(e);t.setState({moviesList:a},function(){t.state.moviesList.length<1?t.setState({moviesFound:!1,moviesAreFiltered:!0,moviesNumber:15}):t.setState({moviesFound:!0,moviesAreFiltered:!0,moviesNumber:15})})})}},{key:"isSearchByTitle",value:function(){if(localStorage.getItem("search"))if(sessionStorage.getItem("activeQuery")){var e=JSON.parse(sessionStorage.getItem("activeQuery"));this.filterMovies(this.processActiveQueryObj(!0,e))}else{var t=this.getTitle();this.filterMovies("Title=".concat(t))}}},{key:"processActiveQueryObj",value:function(e,t){e&&(t.Title=this.getTitle(),sessionStorage.setItem("activeQuery",JSON.stringify(t)));var a="";return Object.keys(t).forEach(function(e){a+="".concat(e,"=").concat(t[e],"&")}),a.slice(0,-1)}},{key:"getTitle",value:function(){var e=localStorage.getItem("search");return sessionStorage.setItem("titleQuery",e),localStorage.removeItem("search"),console.log("getTitle function",e),e}},{key:"setCookie",value:function(e){document.cookie="lastSearch=".concat(e,";")}},{key:"renderNotFound",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("img",{src:"https://image.flaticon.com/icons/svg/1178/1178479.svg",style:{width:"10rem",height:"11rem"},alt:"not found"})))}},{key:"renderMovies",value:function(){var e=this.props,t=e.auth,a=e.token;return this.state.moviesList.map(function(e){return r.a.createElement(J,{key:e._id,id:e._id,poster:e.Poster,title:e.Title,imdbRating:e.imdbRating,imdbID:e.imdbID,auth:t,token:a})})}},{key:"getMoreMovies",value:function(){var e=this;this.setState({moviesNumber:this.state.moviesNumber+15},function(){console.log("more movies"),e.state.moviesNumber<105?(e.getDefaultMovies(),e.removeActiveQuery()):(e.setState({noMoreMovies:!0}),e.removeActiveQuery())})}},{key:"removeActiveQuery",value:function(){sessionStorage.getItem("activeQuery")&&sessionStorage.removeItem("activeQuery")}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"exploreComp-container",style:{backgroundColor:this.props.theme.colorBackground.primary}},r.a.createElement(ne,{filterMovies:function(t){return e.filterMovies(t)},getDefaultMovies:function(t){return e.getDefaultMovies(t)}}),r.a.createElement("div",{className:"filtered-movies-container"},this.state.moviesFound?this.renderMovies():this.renderNotFound(),this.isSearchByTitle()),this.state.noMoreMovies||this.state.moviesAreFiltered?null:r.a.createElement("p",{id:"more",onClick:function(){return e.getMoreMovies()}},"MORE"))}}]),t}(r.a.Component)),ie=Object(h.d)(re),oe=(a(187),a(188),a(189),a(18)),se=(a(190),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(oe.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){var t=a.state,n=t.userName,r=t.password,i=t.passwordCheck;n.length>3&&r.length>3&&r===i?b.a.post("https://movies-app-siit.herokuapp.com/auth/register",{username:n,password:r}).then(function(e){console.log("success register response:",e),200===e.status&&(console.log(e,n),a.props.onSubmitRegister(e.data,n))}).catch(function(e){a.setState({registerError:"This username already exists. Please choose another one!"})}):n.length<3||r.length<3?a.setState({registerError:"Username and password must be at least 4 characters each"}):r!==i&&a.setState({registerError:"Passwords don't match. Try again!"}),e.preventDefault()},a.state={userName:"",password:"",passwordCheck:"",registerError:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.userName,a=e.password,n=e.passwordCheck;return r.a.createElement("form",{className:"reg-form"},r.a.createElement("input",{type:"text",className:"log-field",name:"userName",placeholder:"Username",value:t,onChange:this.handleChange,required:!0}),r.a.createElement("input",{type:"password",className:"log-field",name:"password",placeholder:"Password",value:a,onChange:this.handleChange,required:!0}),r.a.createElement("input",{type:"password",className:"log-field",name:"passwordCheck",placeholder:"Check Password",value:n,onChange:this.handleChange,required:!0}),r.a.createElement("button",{type:"submit",className:"submitBtn",onClick:this.handleSubmit},"SUBMIT"),r.a.createElement("button",{className:"cancelBtn",onClick:this.props.onCancel},"CANCEL"),""!==this.state.registerError&&r.a.createElement("div",{className:"registerError"},r.a.createElement("p",{className:"loginMsg"},this.state.registerError)))}}]),t}(r.a.Component)),le=(a(191),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(oe.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.userName,r=t.password;b.a.post("https://movies-app-siit.herokuapp.com/auth/login",{username:n,password:r}).then(function(e){200===e.status&&a.props.onSubmitLogin(e.data,n)}).catch(function(e){a.setState({loginError:!0})})},a.handleForgotPass=function(){a.setState({forgotPass:!0})},a.state={userName:"",password:"",loginError:!1,forgotPass:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.userName,a=e.password;return r.a.createElement("form",{className:"log-form",onSubmit:this.handleSubmit},r.a.createElement("input",{type:"text",className:"log-field",name:"userName",placeholder:"Username",value:t,onChange:this.handleChange,required:!0}),r.a.createElement("input",{type:"password",className:"log-field",name:"password",placeholder:"Password",value:a,onChange:this.handleChange,required:!0}),r.a.createElement("button",{type:"submit",className:"submitBtn"},"SUBMIT"),r.a.createElement("button",{className:"cancelBtn",onClick:this.props.onCancel},"CANCEL"),this.state.loginError&&r.a.createElement("div",{className:"loginError"},r.a.createElement("p",{className:"loginMsg"},"Invalid username or password. Try again!"),r.a.createElement("button",{className:"forgotPass",onClick:this.handleForgotPass},"Forgot password?")),this.state.forgotPass&&r.a.createElement("p",{className:"forgotErr"},"The only way back is to ",r.a.createElement("br",null),r.a.createElement("button",{className:"reReg",onClick:this.props.reReg},"Register"),"again."))}}]),t}(r.a.Component)),ce=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).exploreFunction=function(e){e?(a.props.handleEmptySearch(),a.props.history.push("/explore")):a.props.history.push("/explore")},a.hompageFunction=function(){a.props.history.push({pathname:"/hompage",state:a.props.location.pathname})},a.addPageFunction=function(){a.props.auth?a.props.history.push({pathname:"/addPage"}):window.alert("you have to be signed in to add movies")},a.handleRegisterBtnClick=function(){a.setState({regForm:!0,logForm:!1})},a.handleLoginBtnClick=function(){a.setState({logForm:!0,regForm:!1})},a.handleCancelBtn=function(){a.setState({logForm:!1,regForm:!1})},a.handleSubmitRegister=function(e,t){a.props.onSubmitLog(e,t),a.props.auth&&a.setState({regForm:!1})},a.handleSubmitLogin=function(e,t){a.props.onSubmitLog(e,t),a.props.auth&&a.setState({logForm:!1})},a.handleHelloBtnClick=function(){a.state.logOut?a.setState({logOut:!1}):a.setState({logOut:!0})},a.handleLogOutBtnClk=function(){var e={headers:{"X-Auth-Token":a.props.token}};b.a.get("https://movies-app-siit.herokuapp.com/auth/logout",e).then(function(e){console.log("success logout response:",e),200===e.status&&a.props.onLogout()}).catch(function(e){console.log("logout error msg:",e)})},a.storeSeach=function(e){console.log("storeSearch function value",e.target.value),""===e.target.value?(a.updateActiveQuery(),a.exploreFunction(!0)):(localStorage.setItem("search",e.target.value),a.exploreFunction(),a.props.history.push("/explore/".concat(e.target.value)))},a.state={regForm:!1,logForm:!1,logOut:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"updateActiveQuery",value:function(){if(console.log("update function"),sessionStorage.removeItem("titleQuery"),sessionStorage.getItem("activeQuery")){var e=JSON.parse(sessionStorage.getItem("activeQuery"));delete e.Title,sessionStorage.setItem("activeQuery",JSON.stringify(e))}}},{key:"render",value:function(){var e=this,t=this.props.auth?"enabledAdd":"disabledAdd";return r.a.createElement("div",{className:"header"},r.a.createElement("nav",{className:"navBar"},r.a.createElement("img",{className:"logo",alt:"logo",src:a(192),onClick:this.hompageFunction}),r.a.createElement("button",{className:"exploreBtn",onClick:this.exploreFunction}," EXPLORE "),r.a.createElement("button",{className:t,onClick:this.addPageFunction}," ADD MOVIE "),r.a.createElement("div",{className:"searchBar"},r.a.createElement("span",{className:"search-input-container"},r.a.createElement(y.a,{icon:O.h}),r.a.createElement("input",{type:"search",className:"searchInput",onChange:function(t){return e.storeSeach(t)},placeholder:"search by title..."}))),r.a.createElement("a",{style:{cursor:"pointer"},onClick:function(){return e.props.themeFunction()}},r.a.createElement("img",{className:"mood",alt:"mood",src:a(193)})),!this.props.auth&&r.a.createElement("div",{className:"buttonsLogReg"},r.a.createElement("button",{className:"registerBtn",onClick:function(){return e.handleRegisterBtnClick()}}," REGISTER "),r.a.createElement("button",{className:"loginBtn",onClick:function(){return e.handleLoginBtnClick()}}," LOGIN "),this.state.regForm&&r.a.createElement(se,{auth:this.props.auth,onSubmitRegister:this.handleSubmitRegister,onCancel:this.handleCancelBtn}),this.state.logForm&&r.a.createElement(le,{auth:this.props.auth,onSubmitLogin:this.handleSubmitLogin,onCancel:this.handleCancelBtn,reReg:this.handleRegisterBtnClick})),this.props.auth&&r.a.createElement("div",{className:"logOut"},r.a.createElement("button",{className:"helloBtn",onClick:function(){return e.handleHelloBtnClick()}}," Welcome, ",this.props.user," ^ "),this.state.logOut&&r.a.createElement("button",{className:"logOutBtn",onClick:function(){return e.handleLogOutBtnClk()}}," Logout "))))}}]),t}(r.a.Component),ue=Object(h.d)(Object(p.g)(ce)),me=a(19),de=a.n(me),pe=a(21);function he(){var e=Object(x.a)(["",""]);return he=function(){return e},e}function ve(){var e=Object(x.a)(["animation: 2s "," infinite"]);return ve=function(){return e},e}var ge=h.b.div(ve(),Object(h.c)(he(),F.bounce));var fe=function(e,t){return"".concat(t," ").concat(e)};a(196);var be=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t;a.setState((t={},Object(oe.a)(t,e.target.name,e.target.value),Object(oe.a)(t,"noBatman",!1),t))},a.isBatmanTitle=function(){var e=a.state.title;return e.includes("Batman")||e.includes("batman")},a.handlePreview=function(e){e.preventDefault(),a.isBatmanTitle()?a.setState({preview:!0}):a.setState({noBatman:!0})},a.addMovie=Object(pe.a)(de.a.mark(function e(){var t,n,r,i,o,s,l;return de.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,n=t.title,r=t.year,i=t.imdbID,o=t.type,s=t.imageUrl,l={headers:{"X-Auth-Token":a.props.token}},e.next=4,b.a.post("https://movies-app-siit.herokuapp.com/movies",{Title:n,Year:r,imdbID:i,Type:o,Poster:s},l);case 4:200===e.sent.status?(a.setState({preview:!1}),a.props.onSubmitAdd()):window.alert("There has been a server error. Try again!");case 6:case"end":return e.stop()}},e)})),a.handleSubmit=function(e){e.preventDefault(),a.isBatmanTitle()?a.addMovie():a.setState({noBatman:!0})},a.renderInput=function(e,t,n){n&&(t+=" *");var i=a.props.theme.type;return r.a.createElement("div",{className:"fieldWrapper"},r.a.createElement("label",{htmlFor:e,className:fe(i,"inputLabel")},t),r.a.createElement("input",{type:"text",name:e,id:e,className:fe(i,"addField"),value:a.state[e],onChange:a.handleChange,required:n}))},a.state={preview:!1,noBatman:!1,title:"",year:"",rating:"",type:"",language:"",genre:"",plot:"",actors:"",director:"",awards:"",imgUrl:"https://i.pinimg.com/originals/31/d6/fb/31d6fb7595b44e4b649aec2ce079e68a.jpg"},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"renderPreview",value:function(e,t){var a=this.props.theme.type;return r.a.createElement("p",{className:fe(a,"pvwLine")},r.a.createElement("span",{className:fe(a)},t),this.state[e])}},{key:"render",value:function(){var e=this.props.onCancel,t=this.props.theme.type;return r.a.createElement("div",{className:fe("addFormContainer",t)},r.a.createElement("form",{className:fe("addForm",t),onSubmit:this.handleSubmit},r.a.createElement("div",{className:"addPoster"},r.a.createElement("div",{className:"imgFrames"}),r.a.createElement("label",{htmlFor:"addPoster",className:fe(t,"label")},"Poster URL:"),r.a.createElement("input",{type:"text",id:"addPoster",name:"imageUrl",className:fe(t,"addField"),value:this.state.imageUrl}),r.a.createElement("div",{className:"imgFrames"})),r.a.createElement("div",{className:"addDetails"},this.state.noBatman&&r.a.createElement(ge,null,r.a.createElement("h3",{className:fe(t)}," Batman Forever ")),this.renderInput("title","Title:",!0),this.state.noBatman&&r.a.createElement("span",{className:"error"},"This is not a ",r.a.createElement("b",null,"Batman")," movie!"),this.renderInput("year","Year:",!0),this.renderInput("type","Type:",!0),this.renderInput("genre","Genre"),this.renderInput("awards","Awards:"),this.renderInput("director","Director"),this.renderInput("actors","Actors:"),this.renderInput("language","Language:"),this.renderInput("rating","ImdbRating",!0),this.renderInput("plot","Plot")),r.a.createElement("div",{className:"btnsWrapper"},r.a.createElement("button",{className:fe(t,"Btn"),onClick:this.handlePreview}," PREVIEW "),r.a.createElement("button",{type:"submit",className:fe(t,"Btn")}," ADD "),r.a.createElement("button",{className:fe(t,"Btn"),onClick:e}," CANCEL "))),this.state.preview&&r.a.createElement("div",{className:fe(t,"pvw")},r.a.createElement("img",{src:this.state.imgUrl,alt:"movie poster"}),r.a.createElement("div",{className:"pvwDetails"},this.renderPreview("title","Title: "),this.renderPreview("year","Year: "),this.renderPreview("type","Type: "),this.renderPreview("genre","Genre: "),this.renderPreview("awards","Awards: "),this.renderPreview("director","Director: "),this.renderPreview("actors","Actors: "),this.renderPreview("language","Language: "),this.renderPreview("rating","ImdbRating: "),this.renderPreview("plot","Plot: "))))}}]),t}(r.a.Component),Ee=Object(h.d)(be),ye=(a(197),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleSubmitAdd=function(){a.setState({addForm:!1,successMsg:!0})},a.handleMoreAdd=function(){a.setState({addForm:!0,successMsg:!1})},a.onCancel=function(){a.props.history.goBack()},a.state={addForm:!0,successMsg:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e="dark"===this.props.theme.type?"addContainer dark":"addContainer light";return r.a.createElement("div",{className:e},this.state.addForm&&r.a.createElement(Ee,{auth:this.props.auth,token:this.props.token,theme:this.props.theme,onSubmitAdd:this.handleSubmitAdd,onCancel:this.onCancel}),this.state.successMsg&&r.a.createElement("div",{className:"successMsg"},r.a.createElement("h2",null,"Movie added to the review queue. If everything is Batman True, it will be added to the database. "),r.a.createElement("button",{className:"addMoreBtn",onClick:this.handleMoreAdd},"ADD MORE")))}}]),t}(r.a.Component)),ke=Object(h.d)(Object(p.g)(ye)),Oe=(a(198),a(199),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){var e=a.props.movieDetail,t=e._id,n=e.Title;a.setState(Object(z.a)({id:t,title:n},a.props.movieDetail))},a.updateMovie=Object(pe.a)(de.a.mark(function e(){var t,n;return de.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={headers:{"X-Auth-Token":a.props.token}},e.next=4,b.a.put("https://movies-app-siit.herokuapp.com/movies/".concat(a.state.id),{Title:a.state.Title,Runtime:a.state.Runtime,imdbRating:a.state.imdbRating,Year:a.state.Year,Plot:a.state.Plot,Awards:a.state.Awards,Director:a.state.Director,Actors:a.state.Actors,Released:a.state.Released,Genre:a.state.Genre,Poster:a.state.Poster},t);case 4:n=e.sent,a.props.history.goBack(),console.log("response data de la updateMovie",n.data),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("aici e eroarea de la catch",e.t0),a.setState({error:e.t0});case 13:case"end":return e.stop()}},e,null,[[0,9]])})),a.saveMovie=function(e){e.preventDefault(),a.updateMovie(),console.log("this.state ",a.state)},a.handleBack=function(e){e.preventDefault(),a.props.history.goBack()},a.handleDeleteMovie=function(e){e.preventDefault(),window.confirm("Are you sure you wish to delete this item?")&&a.deleteMovieById()},a.deleteMovieById=Object(pe.a)(de.a.mark(function e(){var t,n;return de.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("id is:",a.state.id),t={headers:{"X-Auth-Token":a.props.token}},e.next=5,b.a.delete("https://movies-app-siit.herokuapp.com/movies/".concat(a.state.id),t);case 5:n=e.sent,console.log("response data de la deleteMovieById",n.data),a.props.history.push("/hompage"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),a.setState({error:e.t0}),console.log("DELETE: aici e eroarea de la catch",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,10]])})),a.renderInput=function(e,t){return r.a.createElement("div",{className:"editField"},r.a.createElement("label",{className:"editLabel"},t),r.a.createElement("input",{type:"text",name:e,className:"editInput",defaultValue:a.state[e],onChange:a.handleChange(e)}))},a.state={id:"",title:"",runtime:"",imdbRating:"",year:"",plot:"",awards:"",director:"",actors:"",released:"",genre:"",poster:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){var t=this;return function(a){console.log("event.target.value: ",a.target.value),t.setState(Object(oe.a)({},e,a.target.value))}}},{key:"render",value:function(){return r.a.createElement("form",{className:"editForm"},r.a.createElement("div",{className:"editDetailsInputsDiv"},this.renderInput("Title","Edit Title"),this.renderInput("Genre","Edit genre"),this.renderInput("Poster","Edit Poster"),this.renderInput("Year","Edit Year"),this.renderInput("Runtime","Edit Runtime"),this.renderInput("imdbRating","Edit Rating"),this.renderInput("Language","Edit Language"),this.renderInput("Country","Edit Country"),this.renderInput("Awards","Edit Awards"),this.renderInput("Actors","Edit Actors"),this.renderInput("Director","Edit Director"),this.renderInput("Released","Edit released"),r.a.createElement("div",{className:"editField"},r.a.createElement("label",{className:"editLabel",htmlFor:"plot"},"Edit Plot"),r.a.createElement("textarea",{className:"editInput",type:"text",name:"Plot",defaultValue:this.state.Plot,onChange:this.handleChange("Plot"),rows:"4",cols:"50"},this.state.Plot))),r.a.createElement("div",{className:"btnsDiv"},r.a.createElement("button",{className:"btn",onClick:this.handleBack},"BACK"),r.a.createElement("button",{type:"submit",className:"btn",onClick:this.saveMovie},"SAVE"),r.a.createElement("button",{type:"submit",className:"btn",onClick:this.handleDeleteMovie},"DELETE")))}}]),t}(r.a.Component)),Se=Object(p.g)(Oe),Ae=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).getMovieById=function(){var e=Object(pe.a)(de.a.mark(function e(t){var n;return de.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("aici e getMovieById"),e.prev=1,e.next=4,b.a.get("https://movies-app-siit.herokuapp.com/movies/".concat(t));case 4:n=e.sent,a.setState({movieDetail:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),a.setState({error:e.t0});case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}(),a.state={movieDetail:null,error:null},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.movieId;this.getMovieById(e)}},{key:"render",value:function(){var e=this.state,t=e.movieDetail,a=e.error,n=this.props,i=n.auth,o=n.token,s="dark"===this.props.theme.type?"addContainer dark":"addContainer light";return r.a.createElement("div",{className:s},t?r.a.createElement(Se,{movieDetail:t,auth:i,token:o,theme:this.props.theme.type}):a?r.a.createElement("h1",null,"Invalid movie, try again"):null)}}]),t}(r.a.Component),Ce=Object(h.d)(Object(p.g)(Ae)),Ne=(a(200),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).editMovie=function(){a.props.auth?a.props.history.push({pathname:"/editPage/".concat(a.props.location.state.id)}):window.alert("You have to be signed in to Edit Movies")},a.getMovieDetails=function(){b.a.get("https://movies-app-siit.herokuapp.com/movies/".concat(a.props.history.location.state.id)).then(function(e){a.setState({movieDetail:e.data})})},a.state={movieDetail:[]},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getMovieDetails()}},{key:"render",value:function(){var e=this.props.auth?"enabledEdit":"disabledEdit",t=this.state.movieDetail,a=t.Poster,n=t.Title,i=t.Genre,o=t.Year,s=t.Runtime,l=t.imdbRating,c=t.Language,u=t.Country,m=t.Director,d=t.Actors,p=t.Released,h=t.Awards,v=t.Plot;return r.a.createElement("div",{className:"movieDetails-container",style:{backgroundColor:this.props.theme.colorBackground.primary}},r.a.createElement("div",{className:"movieDetailsImg"},r.a.createElement("img",{src:a,alt:"movie poster",className:"detailsImg"}),r.a.createElement("br",null),r.a.createElement("div",{className:"trailer"},r.a.createElement(R,{id:this.props.history.location.state.imdbID}))),r.a.createElement("div",{className:"movieDetailsInfo"},r.a.createElement("p",{className:"infoTitle"},r.a.createElement("b",null,"Title:")," ",n),r.a.createElement("br",null),r.a.createElement("p",{className:"infoGenre"},r.a.createElement("b",null,"Genre:")," ",i),r.a.createElement("br",null),r.a.createElement("p",{className:"infoYear"},r.a.createElement("b",null,"Year:"),"  ",o),r.a.createElement("br",null),r.a.createElement("p",{className:"infoRuntime"},r.a.createElement("b",null,"Runtime:")," ",s),r.a.createElement("br",null),r.a.createElement("p",{className:"infoImdbRating"},r.a.createElement("b",null,"ImdbRating:")," ",l),r.a.createElement("br",null),r.a.createElement("p",{className:"infoLanguage"},r.a.createElement("b",null,"Language:")," ",c),r.a.createElement("br",null),r.a.createElement("p",{className:"infoCountry"},r.a.createElement("b",null,"Country:")," ",u),r.a.createElement("br",null),r.a.createElement("p",{className:"infoDirector"},r.a.createElement("b",null,"Director:")," ",m),r.a.createElement("br",null),r.a.createElement("p",{className:"infoActors"},r.a.createElement("b",null,"Actors:")," ",d),r.a.createElement("br",null),r.a.createElement("p",{className:"infoRelease"},r.a.createElement("b",null,"Released:")," ",p),r.a.createElement("br",null),r.a.createElement("p",{className:"infoAwards"},r.a.createElement("b",null,"Awards:")," ",h),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("p",{className:"infoPlot"},r.a.createElement("i",null,v)," "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"movieDetails-buttons"},r.a.createElement("button",{className:e,onClick:this.editMovie},"EDIT MOVIE"),r.a.createElement("br",null))))}}]),t}(r.a.Component)),we=Object(h.d)(Object(p.g)(Ne)),je=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){a.setState({auth:localStorage.getItem("auth"),token:localStorage.getItem("token"),user:localStorage.getItem("user"),setTheme:localStorage.getItem("themeA")?JSON.parse(localStorage.getItem("themeA")):Z}),sessionStorage.getItem("titleQuery")&&sessionStorage.removeItem("titleQuery")},a.handleSubmitLog=function(e,t){a.setState({auth:e.authenticated,token:e.accessToken,user:t,isOut:null},function(){!function(e,t,a){localStorage.setItem("auth",e),localStorage.setItem("token",t),localStorage.setItem("user",a)}(e.authenticated,e.accessToken,t),console.log(e.authenticated,e.accessToken,t)})},a.handleLogOut=function(){a.setState({auth:!1,token:"",user:"",isOut:!0},function(){localStorage.removeItem("auth"),localStorage.removeItem("token"),localStorage.removeItem("user")})},a.handlleToglleTheme=function(){a.state.setTheme==q?(a.setState({setTheme:Z}),localStorage.setItem("themeA",JSON.stringify(Z))):(a.setState({setTheme:q}),localStorage.setItem("themeA",JSON.stringify(q)))},a.handleEmptySearch=function(){a.setState({emptySearch:!0},function(){a.setState({emptySearch:!1})})},a.state={emptySearch:!1,auth:!1,user:"",token:"",isOut:null,setTheme:q},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(h.a,{theme:this.state.setTheme},r.a.createElement("div",{className:"MyImdb"},r.a.createElement(ue,{handleEmptySearch:this.handleEmptySearch,auth:this.state.auth,user:this.state.user,token:this.state.token,onSubmitLog:this.handleSubmitLog,onLogout:this.handleLogOut,themeFunction:this.handlleToglleTheme}),r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"/explore",exact:!0,render:function(t){return r.a.createElement(ie,Object.assign({},t,{auth:e.state.auth,token:e.state.token,emptySearch:e.state.emptySearch}))}}),r.a.createElement(p.b,{path:"/explore/",component:ie,emptySearch:this.state.emptySearch}),r.a.createElement(p.b,{path:"/hompage",exact:!0,render:function(t){return r.a.createElement(H,Object.assign({},t,{auth:e.state.auth,token:e.state.token}))}}),r.a.createElement(p.b,{path:"/",exact:!0,component:H}),r.a.createElement(p.b,{path:"/addPage",exact:!0,render:function(t){return null==e.state.isOut?r.a.createElement(ke,Object.assign({},t,{token:e.state.token,theme:e.state.setTheme,auth:e.state.auth})):r.a.createElement(p.a,{to:"/hompage"})}}),r.a.createElement(p.b,{path:"/editPage/:movieId",render:function(t){return e.state.auth?r.a.createElement(Ce,Object.assign({},t,{auth:e.state.auth,token:e.state.token,theme:e.state.setTheme})):r.a.createElement(p.a,{to:"/hompage"})}}),r.a.createElement(p.b,{path:"/movieDetails/:movieId",exact:!0,render:function(t){return r.a.createElement(we,Object.assign({},t,{auth:e.state.auth,token:e.state.token}))}})),r.a.createElement("div",{className:"footer"},r.a.createElement("span",null,"Powered by BatmanTeam: ",r.a.createElement("i",null,"MARIUS Mihut,")," ",r.a.createElement("i",null,"DANIEL Selistean,")," ",r.a.createElement("i",null,"ANDREEA Mandiuc,")," ",r.a.createElement("i",null,"ALEXANDRA Fazakas,")," ",r.a.createElement("i",null,"ALEXANDRU Besa !")))))}}]),t}(n.Component),Ie=Object(p.g)(je),Me=(a(201),function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(Ie,null)))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Me,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()}).catch(function(e){console.error(e.message)})},28:function(e){e.exports=[{dropdownName:"Genre",dropdownOn:!1,filters:[{filterName:"Action",filterOn:!1},{filterName:"Drama",filterOn:!1},{filterName:"Comedy",filterOn:!1},{filterName:"Horror",filterOn:!1},{filterName:"Fantasy",filterOn:!1},{filterName:"Crime",filterOn:!1}]},{dropdownName:"Ratings",dropdownOn:!1,filters:[{filterName:"imdb",filterOn:!1,minRating:"3",maxRating:"10",step:"0.1"}]},{dropdownName:"Year",dropdownOn:!1,filters:[{filterName:"1990-2000",filterOn:!1,minYear:"1990",maxYear:"2000"},{filterName:"2000-2010",filterOn:!1,minYear:"2000",maxYear:"2010"},{filterName:"2010-2020",filterOn:!1,minYear:"2010",maxYear:"2020"}]},{dropdownName:"Language",dropdownOn:!1,filters:[{filterName:"Romanian",filterOn:!1},{filterName:"English",filterOn:!1},{filterName:"French",filterOn:!1}]}]},54:function(e,t,a){},60:function(e,t,a){e.exports=a(202)},65:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){}},[[60,1,2]]]);
//# sourceMappingURL=main.92ca6863.chunk.js.map